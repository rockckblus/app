<!DOCTYPE html>
<html ng-app="dipan">
<head>
    <meta charset="utf-8"/>
    <title ng-controller="header">{{title}}</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimal-ui"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="yes"/>
    <script type="text/javascript">
        document.addEventListener('plusready', function () {
            plus.geolocation.watchPosition(function (p) {
                plus.nativeUI.toast("Geolocation\nLatitude:" + p.coords.latitude + "\nLongitude:" + p.coords.longitude + "\nAltitude:" + p.coords.altitude);
            }, function (e) {
//              plus.nativeUI.toast("Geolocation error: " + e.message);
            });
            //console.log("所有plus api都应该在此事件发生后调用，否则会出现plus is undefined。"
        });
    </script>
</head>


<body class="angularEnd" ng-controller="body">

<!-- Sidebars -->
<div ng-include="sidebar"
     ui-track-as-search-param='true'
     class="sidebar sidebar-left"></div>

<div class="app">

    <!-- Navbars -->

    <div class="navbar navbar-app navbar-absolute-top">
        <div class="navbar-brand navbar-brand-center" ui-yield-to="title">
            Mobile Angular UI
        </div>
        <div class="btn-group pull-left">
            <div ui-toggle="uiSidebarLeft" class="btn sidebar-toggle">
                <i class="fa fa-angle-left"></i>
            </div>
        </div>
        <div class="btn-group pull-right" ui-yield-to="navbarAction">
            <div ui-toggle="uiSidebarRight" class="btn">
                <i class="fa fa-search"></i> Chat
            </div>
        </div>
    </div>

    <div class="navbar navbar-app navbar-absolute-bottom">
        <div class="btn-group justified">
            <a href="#" class="btn btn-navbar"><i class="fa fa-home fa-navbar"></i> Docs</a>
            <a href="#" class="btn btn-navbar"><i
                    class="fa fa-github fa-navbar"></i> Sources</a>
            <a href="#" class="btn btn-navbar"><i
                    class="fa fa-exclamation-circle fa-navbar"></i> Issues</a>
        </div>
    </div>

    <!-- App Body -->
    <div class="app-body">
        <div class="app-content">
            <ui-view></ui-view>
            <a ui-sref="state1">State 1</a>
            <a ui-sref="state2">State 2</a>
        </div>
    </div>

</div><!-- ~ .app -->

<div ui-yield-to="modals"></div>

<!--数据div-->
<!--<div url-parse={{$indexAllRe}}></div>-->


<script>
    var dist = false;
    var isWeb = true;
    var basePath = 'Public/app';
    if (!trueWeb()) {
        basePath = '../..';
    }
    if (dist) {
        if (isWeb) {
            console.log(basePath);
            document.write('<link rel="stylesheet" href="' + basePath + '/src/css/app.css"/>');
            document.write('<link rel="stylesheet" href="' + basePath + '/src/css/responsive.css"/>');

            document.write('<script src="' + basePath + '/dist/js/app.js?{$jsDate}"><\/script>');
        } else {
            document.write('<link rel="stylesheet" href="' + basePath + '/src/css/app.css"/>');
            document.write('<script src="' + basePath + '/dist/js/app.js?{$jsDate}"><\/script>');
        }
    }
    else {
        if (isWeb) {
            document.write('<link rel="stylesheet" href="' + basePath + '/src/css/app.css"/>');
            document.write('<link rel="stylesheet" href="' + basePath + '/src/css/responsive.css"/>');

            document.write('<script src="' + basePath + '/dist/js/appDev.js?{$jsDate}"><\/script>');
        } else {
            document.write('<link rel="stylesheet" href="' + basePath + '/src/css/app.css"/>');
            document.write('<script src="' + basePath + '/dist/js/appDev.js?{$jsDate}"><\/script>');
        }
    }

    function trueWeb() {
        var url = window.location.href;
        url = url.split(':');
        if (url[0] === 'http') {
            return true;
        }
    }
</script>
</body>
</html>
